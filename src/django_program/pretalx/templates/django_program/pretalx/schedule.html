{% extends "django_program/pretalx/base.html" %}

{% block title %}Schedule{% endblock %}

{% block content %}
<div class="page-header">
  <h2>Schedule</h2>
</div>

{% for day, slots in days %}
<section class="schedule-day">
  <h3 class="schedule-day-heading">{{ day|date:"l, N j, Y" }}</h3>
  <table class="schedule-table">
    <thead>
      <tr>
        <th>Time</th>
        <th>Room</th>
        <th>Session</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      {% for slot in slots %}
      <tr>
        <td class="schedule-time">{{ slot.start|time:"H:i" }} &ndash; {{ slot.end|time:"H:i" }}</td>
        <td class="schedule-room">{{ slot.room.name|default:"" }}</td>
        <td class="schedule-session">
          {% if slot.talk %}
          <a href="{% url 'pretalx:talk-detail' conference.slug slot.talk.pretalx_code %}">{{ slot.display_title }}</a>
          {% else %}
          {{ slot.display_title }}
          {% endif %}
        </td>
        <td>
          {% if slot.talk and slot.talk.submission_type %}
          <span class="slot-badge slot-badge--{{ slot.slot_type }}">{{ slot.talk.submission_type }}</span>
          {% else %}
          <span class="slot-badge slot-badge--{{ slot.slot_type }}">{{ slot.get_slot_type_display }}</span>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</section>
{% empty %}
<p class="schedule-empty">No schedule data available yet.</p>
{% endfor %}
{% endblock %}
